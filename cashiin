local correctKey = "cashiin"

local accessGranted = false
local otherThingLoaded = false

spawn(function()
	wait(1)
	otherThingLoaded = true
end)

local ScreenGui = Instance.new("ScreenGui")
local Frame = Instance.new("Frame")
local TitleBar = Instance.new("Frame")
local Icon = Instance.new("ImageLabel")
local TitleText = Instance.new("TextLabel")
local CloseButton = Instance.new("TextButton")
local MinimizeButton = Instance.new("TextButton")
local MaximizeButton = Instance.new("TextButton")
local TextLabel = Instance.new("TextLabel")
local KeyLabel = Instance.new("TextLabel")
local UserInputService = game:GetService("UserInputService")
local TweenService = game:GetService("TweenService")
local player = game:GetService("Players").LocalPlayer
local Character = player.Character or player.CharacterAdded:Wait()
local Humanoid = Character:WaitForChild("Humanoid")
local originalWalkSpeed = Humanoid.WalkSpeed
local originalJumpPower = Humanoid.JumpPower
local cursorColor = Color3.fromRGB(255, 255, 255)
local typedKeyColor = Color3.fromRGB(128, 128, 128)
local underlineLength = 1
local underlineChar = "▁"
local blinkSpeed = 0.5
local authDelay = 5
local hideDelay = 5
local typedKey = ""
local showUnderline = true
local canType = false
local isAuthenticating = false

ScreenGui.Name = "CST"
ScreenGui.Parent = game.CoreGui

Frame.Name = "MoozeFrame"
Frame.Parent = ScreenGui
Frame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
Frame.Size = UDim2.new(0, 600, 0, 300)
Frame.Position = UDim2.new(0.5, -300, 0.5, -150)
Frame.ClipsDescendants = true

TitleBar.Name = "TitleBar"
TitleBar.Parent = Frame
TitleBar.BackgroundColor3 = Color3.fromRGB(10, 10, 10)
TitleBar.BorderSizePixel = 0
TitleBar.Size = UDim2.new(1, 0, 0, 28)
TitleBar.Position = UDim2.new(0, 0, 0, 0)
TitleBar.Active = true

Icon.Name = "TitleIcon"
Icon.Parent = TitleBar
Icon.BackgroundTransparency = 1
Icon.Size = UDim2.new(0, 16, 0, 16)
Icon.Position = UDim2.new(0, 6, 0, 6)
Icon.Image = "rbxassetid://128024012812354"

TitleText.Name = "TitleText"
TitleText.Parent = TitleBar
TitleText.BackgroundTransparency = 1
TitleText.Size = UDim2.new(1, -100, 1, 0)
TitleText.Position = UDim2.new(0, 28, 0, 0)
TitleText.Text = "Mooze"
TitleText.Font = Enum.Font.SourceSans
TitleText.TextColor3 = Color3.fromRGB(255, 255, 255)
TitleText.TextSize = 18
TitleText.TextXAlignment = Enum.TextXAlignment.Left

CloseButton.Name = "CloseButton"
CloseButton.Parent = TitleBar
CloseButton.Size = UDim2.new(0, 40, 0, 28)
CloseButton.Position = UDim2.new(1, -40, 0, 0)
CloseButton.BackgroundTransparency = 1
CloseButton.Text = "X"
CloseButton.Font = Enum.Font.SourceSansBold
CloseButton.TextColor3 = Color3.fromRGB(255, 255, 255)
CloseButton.TextSize = 18

MinimizeButton.Name = "MinimizeButton"
MinimizeButton.Parent = TitleBar
MinimizeButton.Size = UDim2.new(0, 40, 0, 28)
MinimizeButton.Position = UDim2.new(1, -120, 0, 0)
MinimizeButton.BackgroundTransparency = 1
MinimizeButton.Text = "-"
MinimizeButton.Font = Enum.Font.SourceSansBold
MinimizeButton.TextColor3 = Color3.fromRGB(255, 255, 255)
MinimizeButton.TextSize = 24

MaximizeButton.Name = "MaximizeButton"
MaximizeButton.Parent = TitleBar
MaximizeButton.Size = UDim2.new(0, 40, 0, 28)
MaximizeButton.Position = UDim2.new(1, -80, 0, 0)
MaximizeButton.BackgroundTransparency = 1
MaximizeButton.Text = "▢"
MaximizeButton.Font = Enum.Font.SourceSansBold
MaximizeButton.TextColor3 = Color3.fromRGB(255, 255, 255)
MaximizeButton.TextSize = 18
MaximizeButton.Visible = false

local dragging = false
local dragInput, dragStart, startPos
local function update(input)
	local delta = input.Position - dragStart
	Frame.Position = UDim2.new(Frame.Position.X.Scale, startPos.X.Offset + delta.X, Frame.Position.Y.Scale, startPos.Y.Offset + delta.Y)
end
TitleBar.InputBegan:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseButton1 then
		dragging = true
		dragStart = input.Position
		startPos = Frame.Position
		input.Changed:Connect(function()
			if input.UserInputState == Enum.UserInputState.End then
				dragging = false
			end
		end)
	end
end)
TitleBar.InputChanged:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseMovement then
		dragInput = input
	end
end)
UserInputService.InputChanged:Connect(function(input)
	if dragging and input == dragInput then
		update(input)
	end
end)
local normalSize = Frame.Size
local normalContentVisible = true
MinimizeButton.MouseButton1Click:Connect(function()
	if normalContentVisible then
		TweenService:Create(Frame, TweenInfo.new(0.2), {Size = UDim2.new(normalSize.X.Scale, normalSize.X.Offset, 0, TitleBar.Size.Y.Offset)}):Play()
		TextLabel.Visible = false
		KeyLabel.Visible = false
		MaximizeButton.Visible = true
		normalContentVisible = false
	end
end)
MaximizeButton.MouseButton1Click:Connect(function()
	if not normalContentVisible then
		TweenService:Create(Frame, TweenInfo.new(0.2), {Size = normalSize}):Play()
		TextLabel.Visible = true
		KeyLabel.Visible = true
		MaximizeButton.Visible = false
		normalContentVisible = true
	end
end)
CloseButton.MouseButton1Click:Connect(function()
	ScreenGui:Destroy()
end)
TextLabel.Name = "MoozeASCII"
TextLabel.Parent = Frame
TextLabel.BackgroundTransparency = 1
TextLabel.Size = UDim2.new(1, 0, 0.8, 0)
TextLabel.Position = UDim2.new(-0.067, 0, -0.1, 0)
TextLabel.Font = Enum.Font.Code
TextLabel.Text = [[
     ooo        ooooo    .oooooo.     .oooooo.     oooooooooooo   oooooooooooo
     `88.       .888'   d8p'  `Y8b   d8p'  `Y8b   d'd888' '888'       `8     
888b     d'888   888      888 888      888        .888P      888
     8 Y88  .P  888   888      888 888      888       d888'       888oooo8
     8  `888'   888   888      888 888      888     .888P         888    "
            8    Y     888   `88b    d88` `88b    d88`    d888'     .P   888       o    
       o8o        o888o    Y8bood8P'    Y8bood8P'   .8888888888P    O888ooooood8
]]
TextLabel.TextColor3 = Color3.fromRGB(128, 128, 128)
TextLabel.TextSize = 13
TextLabel.TextWrapped = true
TextLabel.TextXAlignment = Enum.TextXAlignment.Center
TextLabel.TextYAlignment = Enum.TextYAlignment.Center
KeyLabel.Name = "KeyLabel"
KeyLabel.Parent = Frame
KeyLabel.BackgroundTransparency = 1
KeyLabel.Position = UDim2.new(0, 29, 0, 200)
KeyLabel.Size = UDim2.new(0.7, 0, 0.1, 0)
KeyLabel.Font = Enum.Font.Code
KeyLabel.RichText = true
KeyLabel.TextColor3 = Color3.fromRGB(128, 128, 128)
KeyLabel.TextSize = 12
KeyLabel.TextXAlignment = Enum.TextXAlignment.Left
KeyLabel.TextYAlignment = Enum.TextYAlignment.Center
KeyLabel.Active = true
local function updateKeyLabel()
	if isAuthenticating then return end
	local underline = showUnderline and string.rep(underlineChar, underlineLength) or ""
	KeyLabel.Text = string.format('[<font color="rgb(255,0,0)">—</font>] Key: <font color="rgb(%d,%d,%d)">%s</font><font color="rgb(%d,%d,%d)">%s</font>', typedKeyColor.R*255, typedKeyColor.G*255, typedKeyColor.B*255, typedKey, cursorColor.R*255, cursorColor.G*255, cursorColor.B*255, underline)
end
task.spawn(function()
	while true do
		if not isAuthenticating then
			showUnderline = not showUnderline
			updateKeyLabel()
		end
		wait(blinkSpeed)
	end
end)
local keyMapping = {Zero="0", One="1", Two="2", Three="3", Four="4", Five="5", Six="6", Seven="7", Eight="8", Nine="9", Comma=",", Period=".", Slash="/", BackSlash="\\", Semicolon=";", Quote="'", Minus="-", Equal="=", Grave="`", LeftBracket="[", RightBracket="]", F1="F1", F2="F2", F3="F3", F4="F4", F5="F5", F6="F6", F7="F7", F8="F8", F9="F9", F10="F10", F11="F11", F12="F12", Space=" ", Tab="\t", CapsLock="CapsLock", Insert="Insert", Delete="Delete", Home="Home", End="End", PageUp="PageUp", PageDown="PageDown", Up="↑", Down="↓", Left="←", Right="→"}
UserInputService.InputBegan:Connect(function(input, gameProcessed)
	if gameProcessed then return end
	if canType and input.UserInputType == Enum.UserInputType.Keyboard then
		if input.KeyCode == Enum.KeyCode.Return then
			canType = false
			Humanoid.WalkSpeed = originalWalkSpeed
			Humanoid.JumpPower = originalJumpPower
			if typedKey == correctKey then
				isAuthenticating = true
				KeyLabel.Text = '[<font color="rgb(255,0,0)">-</font>] Authenticating...'
				wait(authDelay)
				repeat task.wait() until otherThingLoaded
				KeyLabel.Text = '[<font color="rgb(255,0,0)">-</font>] Hiding console in <font color="rgb(255,0,0)">5.00</font> seconds!'
				wait(hideDelay)
				local function fadeOut(gui, duration)
					for _, object in ipairs(gui:GetDescendants()) do
						if object:IsA("TextLabel") then
							TweenService:Create(object, TweenInfo.new(duration), {TextTransparency = 1}):Play()
						elseif object:IsA("TextButton") then
							TweenService:Create(object, TweenInfo.new(duration), {TextTransparency = 1}):Play()
						elseif object:IsA("ImageLabel") then
							TweenService:Create(object, TweenInfo.new(duration), {ImageTransparency = 1}):Play()
						elseif object:IsA("Frame") then
							TweenService:Create(object, TweenInfo.new(duration), {BackgroundTransparency = 1}):Play()
						end
					end
				end
				fadeOut(ScreenGui, 2)
				wait(2)
				ScreenGui:Destroy()
				accessGranted = true
			else
				player:Kick("Invalid Key")
			end
			updateKeyLabel()
		elseif input.KeyCode == Enum.KeyCode.Backspace then
			typedKey = typedKey:sub(1, -2)
			updateKeyLabel()
		else
			local keyStr = input.KeyCode.Name
			if #keyStr == 1 then
				typedKey = typedKey .. keyStr:lower()
			elseif keyMapping[keyStr] then
				typedKey = typedKey .. keyMapping[keyStr]
			end
			updateKeyLabel()
		end
	end
end)
UserInputService.InputBegan:Connect(function(input, gameProcessed)
	if input.UserInputType == Enum.UserInputType.MouseButton1 then
		local mousePos = input.Position
		local absPos = KeyLabel.AbsolutePosition
		local absSize = KeyLabel.AbsoluteSize
		if mousePos.X >= absPos.X and mousePos.X <= absPos.X + absSize.X and mousePos.Y >= absPos.Y and mousePos.Y <= absPos.Y + absSize.Y then
			canType = true
			typedKey = ""
			updateKeyLabel()
			originalWalkSpeed = Humanoid.WalkSpeed
			originalJumpPower = Humanoid.JumpPower
			Humanoid.WalkSpeed = 0
			Humanoid.JumpPower = 0
		else
			if canType then
				Humanoid.WalkSpeed = originalWalkSpeed
				Humanoid.JumpPower = originalJumpPower
			end
			canType = false
			updateKeyLabel()
		end
	end
end)
updateKeyLabel()
repeat task.wait() until accessGranted
